{"version":3,"sources":["./src/app/home/home.page.html","./src/app/home/home.module.ts","./src/app/home/home.page.scss","./src/app/home/home.page.ts"],"names":[],"mappings":"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","file":"home-home-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n      Direcciones\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-card>\\n    <ion-card-header>\\n      <ion-card-title>Ingresar direccion de partida</ion-card-title>\\n    <ion-input [(ngModel)] =\\\"direccion_salida\\\" placeholder=\\\"Mi ubicaciÃ³n\\\">\\n      <ion-icon name=\\\"pin\\\"></ion-icon>\\n    </ion-input>\\n  </ion-card-header>\\n  </ion-card>\\n  <ion-card>\\n    <ion-card-header>\\n      <ion-card-title>Ingresar direccion de llegada</ion-card-title>\\n    <ion-input [(ngModel)]=\\\"direccion_llegada\\\" placeholder=\\\"Ingresar direccion\\\">\\n    <ion-icon name=\\\"pin\\\"></ion-icon>\\n  </ion-input>\\n</ion-card-header>\\n</ion-card><ion-item>\\n  <ion-button slot=\\\"start\\\" shape=\\\"round\\\" color=\\\"tertiary\\\" (click) =\\\"buttonClick()\\\" >\\n    BUSCAR RUTA</ion-button>\\n</ion-item>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: HomePage\n      }\n    ])\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","module.exports = \".welcome-card img {\\n  max-height: 35vh;\\n  overflow: hidden; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FsZS9Fc2NyaXRvcmlvL0ludGVudG9Db3Jkb3ZhL2FuZ3VsYXItaW9uaWMvQXBwTW92aWwtQnVzZXMvc3JjL2FwcC9ob21lL2hvbWUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGdCQUFnQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvaG9tZS9ob21lLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi53ZWxjb21lLWNhcmQgaW1nIHtcbiAgbWF4LWhlaWdodDogMzV2aDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cbiJdfQ== */\"","import { Component } from '@angular/core';\nimport { NgModule } from '@angular/core';\n\n\nimport { AlertController,ToastController, LoadingController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { Http, Response } from '@angular/http';\n\n//import { AndroidPermissions } from '@ionic-native/android-permissions/ngx';\n//import { Geolocation } from '@ionic-native/geolocation/ngx';\n//import { LocationAccuracy } from '@ionic-native/location-accuracy/ngx';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { NavController, Platform } from '@ionic/angular';\nimport { Storage } from '@ionic/storage';\nimport { HttpClient } from '@angular/common/http';\n\nimport { from } from 'rxjs';\nimport {RecorridoService} from 'src/app/services/recorrido.service';\nimport { map } from 'rxjs/operators'\nimport {Recorrido} from 'src/app/interfaces/recorrido'\n\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\n\nexport class HomePage {\n\n  public direccion_salida: string = '';\n  public direccion_llegada: string = '';\n  public latitud_salida: any;\n  public longitud_salida: any;\n  public recorrido_final: Recorrido;\n//  public data: any[];\n  //public dato: any;\n//  type: SearchType = SearchType.all;\n\n\n  constructor(\n              private geolocation: Geolocation,\n              private router: Router,\n              private storage: Storage,\n              public http: HttpClient,\n              private recorrido: RecorridoService,\n            private loadingCtrl: LoadingController) {}\n\n\n  async buttonClick(){\n//quita espacios\nthis.direccion_salida = this.direccion_salida.trim();\nthis.direccion_llegada = this.direccion_llegada.trim();\n//muestra aunucio de carga\n    const loading = await this.loadingCtrl.create({\n      message: 'Buscando recorridos..',\n    });\n\n  this.storage.set('direccion_salida', this.direccion_salida);\n  if (this.direccion_llegada.length == 0)\n  {\n    alert('campo de direccion de llegada vacio')\n  }\n  else{\n    if (this.direccion_salida.length == 0)\n    {\n      alert('Se ocupara la direccion del gps')\n\n      //consulta con cordenadas\n      await loading.present();\n     this.recorrido_final= await this.recorrido.getRecorridoCor(this.latitud_salida,this.longitud_salida, this.direccion_llegada);\n\n    }\n    else{\n      //consulta con direcciones\n      await loading.present();\n   this.recorrido_final= await this.recorrido.getRecorridoDir(this.direccion_salida, this.direccion_llegada)\n\n    }\n  await  this.storage.set('recorrido_final', this.recorrido_final);\n  if(this.recorrido_final.bus == 'cero'){\n    //consulta con arreglo\n    await loading.present();\n    await loading.dismiss();\n    this.router.navigate(['/page-recorrido-combinacion']);\n\n  }\n  else\n  {\n    await loading.present();\n    await loading.dismiss();\n    this.router.navigate(['/page-recorrido']);\n\n  }\n\n};\n};\n\n  ngOnInit() {\n    //encontrar locacion del dispositivo\n    this.geolocation.getCurrentPosition({timeout:7000}).then((position) => {\n      this.latitud_salida =  position.coords.latitude;\n    //  console.log(this.latitud_salida);\n      this.longitud_salida = position.coords.longitude;\n    //  console.log(this.longitud_salida);\n  }).catch((error) => {\n    console.log('Error encontrando la gps', error);\n });\n\n\n  };\n  async presentLoading() {\n    const loading = await this.loadingCtrl.create({\n      message: 'Buscando recorridos..',\n      duration: 5000\n    });\n    await loading.present();\n    return loading;\n  }\n}\n//npm install @ionic/angular@4.0.0-beta.7\n"],"sourceRoot":""}